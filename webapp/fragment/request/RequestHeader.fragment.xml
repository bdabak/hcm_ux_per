<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:md="com.smod.ux.mat.controls"
    xmlns:thy="com.thy.ux.per.controls"
>
    <thy:FormContainer
        rowGap="0.7rem"
        id="idRequestHeaderForm"
    >
        <md:Select
            variant="Outlined"
            label="{/#RequestHeader/RequestType/@sap:label}"
            options="{/RequestTypeSet}"
            required="true"
            enabled="false"
            selectedKey="{detailView>/RequestHeader/RequestType}"
        >
            <md:SelectOption
                key="{RequestTypeCode}"
                value="{RequestTypeDescription}"
            />
        </md:Select>
        <md:Select
            variant="Outlined"
            label="{/#RequestHeader/OrgUnitCode/@sap:label}"
            options="{/OrgUnitSet}"
            required="true"
            enabled="true"
            selectedKey="{detailView>/RequestHeader/OrgUnitCode}"
            change=".onOrgUnitSelected"
        >
            <md:SelectOption
                key="{OrgUnitCode}"
                value="{OrgUnitText} {= ${Substitute} ? '(Vekil)' : '' }"
            />
        </md:Select>
        <!-- Budget fields -->
        <HBox
            class="flex-gap-sm"
            justifyContent="Center"
            alignItems="Center"
            visible="{= ${detailView>/RequestHeader/OrgUnitCode} !== null }"
        >
            <md:TextField
                editable="false"
                label="{/#RequestHeader/ApprovedBudget/@sap:label}"
                value="{detailView>/RequestHeader/ApprovedBudget}"
                width="100%"
            >
                <md:layoutData>
                    <FlexItemData growFactor="1" />
                </md:layoutData>
            </md:TextField>
            <md:TextField
                editable="false"
                label="{/#RequestHeader/EmployeeCount/@sap:label}"
                value="{detailView>/RequestHeader/EmployeeCount}"
                width="100%"
            >
                <md:layoutData>
                    <FlexItemData growFactor="1" />
                </md:layoutData>
            </md:TextField>
            <md:TextField
                editable="false"
                label="{/#RequestHeader/RemainingBudget/@sap:label}"
                value="{detailView>/RequestHeader/RemainingBudget}"
                width="100%"
            >
                <md:layoutData>
                    <FlexItemData growFactor="1" />
                </md:layoutData>
            </md:TextField>
            <md:IconButton
                press=".onRefreshBudget"
                variant="Filled"
            >
                <md:icons>
                    <md:Icon
                        icon="sync"
                        tooltip="{i18n>REFRESH_ACTION}"
                    />
                </md:icons>
            </md:IconButton>
        </HBox>
        <!-- Budget fields -->
        <md:Select
            variant="Outlined"
            label="{/#RequestHeader/PartnershipCode/@sap:label}"
            options="{/PartnershipSet}"
            required="true"
            selectedKey="{detailView>/RequestHeader/PartnershipCode}"
        >
            <md:SelectOption
                key="{PartnershipCode}"
                value="{PartnershipDescription}"
                tooltip="{PartnershipText}"
            />
        </md:Select>
        <md:TextField
            variant="Outlined"
            label="{/#RequestHeader/RequestTitle/@sap:label}"
            width="100%"
            required="true"
            value="{detailView>/RequestHeader/RequestTitle}"
            maxLength="60"
        />
        <md:TextField
            variant="Outlined"
            required="true"
            label="{/#RequestHeader/RequestDescription/@sap:label}"
            width="100%"
            maxLength="400"
            type="TextArea"
            value="{detailView>/RequestHeader/RequestDescription}"
        />
    </thy:FormContainer>
</core:FragmentDefinition>